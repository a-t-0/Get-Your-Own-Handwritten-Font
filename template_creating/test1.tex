% specify the file to be read the file
\readdef{symbol_spec.txt}{\data}
\readarray*\data\MyDat[-,2] % nr of columns in file I presume

%\MyDatROWS{} variable contains rows of data read.

% Read lines of the symbol_spec.txt into variables and initialize values
\newcounter{nrOfLinesSymbolSpec}
\setcounter{nrOfLinesSymbolSpec}{0}%
\whiledo{\value{nrOfLinesSymbolSpec} < \MyDatROWS}{%
  \stepcounter{nrOfLinesSymbolSpec}%
  \expandafter\xdef\csname DATA\MyDat[\arabic{nrOfLinesSymbolSpec},1]\endcsname{%
    \MyDat[\arabic{nrOfLinesSymbolSpec},2]}%
}

% TODO: verify whether all variable names contain an integer or float value that is non zero. Display error message indicating failing value otherswise.
\begin{itemize}
    \item This are the specifications of the qr dimensions and amount of qr images/symbols.
    \item \missingcommand{nrOfSymbols}
    \item \missingcommand{boxWidth}
    \item \missingcommand{boxHeight}
    \item nrOfBoxesPerLine= \missingcommand{nrOfBoxesPerLine}
    \item nrOfBoxesPerLineMinOne = \missingcommand{nrOfBoxesPerLineMinOne}
    \item nrOfLinesPerPage= \missingcommand{nrOfLinesPerPage}
    \item \missingcommand{nrOfLinesPerPageMinOne}
\end{itemize}

% read symbols

% specify the file to be read the file
\readdef{symbols.txt}{\data}
\readarray*\data\MyDat[-,2] % nr of columns in file I presume

%\MyDatROWS{} variable contains rows of data read.

% Read lines of the symbol_spec.txt into variables and initialize values
\newcounter{nrOfLinesSymbols}
\setcounter{nrOfLinesSymbols}{0}%
\whiledo{\value{nrOfLinesSymbols} < \MyDatROWS}{%
  \stepcounter{nrOfLinesSymbols}%
  \expandafter\xdef\csname DATA\MyDat[\arabic{nrOfLinesSymbols},1]\endcsname{%
    \MyDat[\arabic{nrOfLinesSymbols},2]}%
}

% TODO: verify whether all variable names contain an integer or float value that is non zero. Display error message indicating failing value otherswise.
\begin{itemize}
    \item These are the symbols that are read from file
    \item \missingcommand{1}
    \item \missingcommand{2}
    \item \missingcommand{3}
    \item \missingcommand{4}
    \item \missingcommand{5}
\end{itemize}


% \newcounter{ct}
% ...
% \forloop{ct}{1}{\value{ct} < \missingcommand{nrOfBoxesPerLine}}%
% {%
%   \thect\
  
% }

% read symbols
\newcounter{ct1}
\newcounter{ct2}
\newcounter{ct3}
\newcounter{ct4}

% set a symbol counter
\newcounter{sym_index}
\setcounter{sym_index}{0}%

%loop through lines
\newpage
\hspace{-1.1em} % SHift top row left to prevent some section indentation
\noindent\forloop{ct4}{0}{\value{ct4} < \missingcommand{nrOfLinesPerPage}}{

% loop through columns
\begin{tikzpicture}[scale=2][H]
    \tikzstyle{ann} = [draw=none,fill=none,right]
    \matrix[nodes={draw, ultra thin, fill=white},
        %row sep=-\missingcommand{boxWidth}*0.09em,column
        row sep=-3pt,column sep=-\missingcommand{boxWidth}*0.0mm] {
    % \hspace{-14em}   
        % create square with symbol in it.
        \forloop{ct1}{1}{\value{ct1} < \missingcommand{nrOfBoxesPerLine}}{  
        
        % increase the symbol count index by one
        \addtocounter{sym_index}{1}
         
        \node[rectangle,minimum height=\missingcommand{boxWidth}mm,minimum width=\missingcommand{boxWidth}mm]
        {.\missingcommand{\the\value{sym_index}}}; \pgfmatrixnextcell
        }\\
        
        % \hspace{-14em}
        % create empty square
        \forloop{ct2}{1}{\value{ct2} < \missingcommand{nrOfBoxesPerLine}}{
        \node[rectangle,minimum height=\missingcommand{boxWidth}mm,minimum width=\missingcommand{boxWidth}mm] {}; \pgfmatrixnextcell
        }\\
        
        % \hspace{-14em}
        % Create qr Codes
        \forloop{ct3}{1}{\value{ct3} < \missingcommand{nrOfBoxesPerLineMinOne}}{
        \node[draw=none,fill=none] {\qrcode[height=\missingcommand{boxWidth}mm]{https://opensource.org/about} }; \pgfmatrixnextcell
        }
        
        % \hspace{-14em}
        % manually print last qr code to close without \pgfmatrixnextcell
        \node[draw=none,fill=none] {\qrcode[height=\missingcommand{boxWidth}mm]{https://opensource.org/about} };\\
    };
\end{tikzpicture}
} % close loop through lines